#
# Chef Client Config File
#
# Dynamically generated by Chef - local modifications will be replaced
#

<% http_basic_auth = ENV['APP_ACCESS_TOKEN'] ? "#{ENV['APP_ACCESS_TOKEN']}:X" : nil %>
<% http_host       = ENV['HTTP_HOST'] %>
<% chef_server     = [http_basic_auth, http_host].compact.join('@') %>

log_level          :info
log_location       <%= @client_log %>
ssl_verify_mode    :verify_none
registration_url   "https://<%= chef_server %><%= @node[:chef][:server_fqdn] %>"
openid_url         "<%= Chef::Config.openid_url %>"
template_url       "https://<%= chef_server %>"
remotefile_url     "https://<%= chef_server %>"
search_url         "https://<%= chef_server %>"
role_url           "https://<%= chef_server %>"

file_store_path    "<%= @node[:chef][:path] %>/file_store"
file_cache_path    "<%= @node[:chef][:path] %>/cache"

pid_file           "<%= @node[:chef][:run_path] %>/chef-client.pid"

Chef::Log::Formatter.show_time = <%= @show_time %>
